(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-666440c4"],{"308b":function(t,e,a){},b01f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"1050px",width:"100%","margin-top":"20px",padding:"20px"}},[a("el-row",{staticClass:"grid-one-contentheight",staticStyle:{margin:"0px"},attrs:{gutter:10,type:"flex",justify:"center"}},[a("el-col",{staticStyle:{height:"360px"},attrs:{span:16}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%",margin:"0px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("博客流量动态图")]),t._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[t._v("最近七天")])],1),t._v(" "),a("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id}})]),t._v(" "),a("br"),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{width:"100%",margin:"0px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("访问量最高文章")])]),t._v(" "),a("div",{staticStyle:{height:"430px"}},[[a("div",t._l(t.data.visitTopArticles,(function(e,i){return a("span",{key:i},[a("span",[t._v(t._s(e.title))]),t._v(" "),a("el-divider")],1)})),0)]],2)])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"box-card",staticStyle:{width:"100%"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("流量七天汇总图")])]),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("div",{style:{height:"200px",width:t.width},attrs:{id:"myChart2"}})])],1),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{width:"100%","margin-top":"10px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("跳出率")])]),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("div",{style:{height:"200px",width:t.width},attrs:{id:"jumprate"}})])],1),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{width:"100%","margin-top":"10px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("最新的留言")])]),t._v(" "),a("el-row",{attrs:{gutter:20}},[[a("div",t._l(t.data.newComments,(function(e,i){return a("span",{key:i},[a("span",[t._v(t._s(e.title))]),t._v(" "),a("el-divider")],1)})),0)]],2)],1)],1)],1)],1)},n=[],r=(a("ac6a"),a("313e")),s=a.n(r),d=a("ed08"),o={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},initListener:function(){var t=this;this.$_resizeHandler=Object(d["b"])((function(){t.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var t=this.chart;t&&t.resize()}}},l=a("cc0b"),c={mixins:[o],props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"360px"}},data:function(){return{chart:null,data:{visitTopArticles:[],newComments:[]},drawLineData:{dateGroup:[],ip:[],uv:[],pv:[]},trafficCountData:{ip:0,pv:0,uv:0}}},created:function(){this.getMonitorDataHandle()},mounted:function(){this.jumpRate()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{getMonitorDataHandle:function(){var t=this;Object(l["b"])().then((function(e){t.data=e.data,e.data.traffic.ip.forEach((function(e,a){t.drawLineData.dateGroup.push(e.days.substring(0,10)),t.drawLineData.ip.push(e.count),t.trafficCountData.ip+=e.count})),e.data.traffic.uv.forEach((function(e,a){t.drawLineData.uv.push(e.count),t.trafficCountData.uv+=e.count})),e.data.traffic.pv.forEach((function(e,a){t.drawLineData.pv.push(e.count),t.trafficCountData.pv+=e.count})),t.drawLine(),t.initChart()}))},jumpRate:function(){var t=s.a.init(document.getElementById("jumprate"));t.setOption({tooltip:{formatter:"{a} <br/>{b} {c}%"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"跳出率",type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:""}]}]})},initChart:function(){var t=s.a.init(document.getElementById("myChart2"));t.setOption({toolbox:{feature:{saveAsImage:{}}},series:[{name:"访问来源",width:"100%",type:"pie",radius:"80%",hoverAnimation:!0,data:[{name:"PV",value:this.trafficCountData.pv},{name:"UV",value:this.trafficCountData.uv},{name:"IP",value:this.trafficCountData.ip}]}]})},drawLine:function(){this.chart=s.a.init(document.getElementById(this.id));var t={tooltip:{trigger:"axis"},toolbox:{feature:{saveAsImage:{}}},legend:{data:["PV","UV","IP"]},xAxis:{type:"category",boundaryGap:!1,data:this.drawLineData.dateGroup,name:"",nameTextStyle:{fontSize:16,padding:[0,0,0,20]},axisLine:{lineStyle:{}}},yAxis:{name:"数量",nameTextStyle:{fontSize:16,padding:[0,0,10,0]},axisLine:{lineStyle:{}},type:"value"},series:[{name:"PV",data:this.drawLineData.pv,type:"line",lineStyle:{normal:{color:"#8AE09F"}}},{name:"UV",data:this.drawLineData.uv,type:"line",lineStyle:{normal:{color:"#FA6F53"}}},{name:"IP",data:this.drawLineData.ip,type:"line",lineStyle:{normal:{color:"rgb(41, 58, 74)"}}}]};this.chart.setOption(t)}}},u=c,h=(a("fd7c"),a("2877")),p=Object(h["a"])(u,i,n,!1,null,null,null);e["default"]=p.exports},cc0b:function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return d}));var i=a("b775"),n=a("9a6f");function r(t){return Object(i["a"])({url:n["a"].getTallyData,method:"get",params:t})}function s(t){return Object(i["a"])({url:n["a"].getAnalysisData,method:"get",params:t})}function d(t){return Object(i["a"])({url:n["a"].getMonitorData,method:"get",params:t})}},fd7c:function(t,e,a){"use strict";var i=a("308b"),n=a.n(i);n.a}}]);