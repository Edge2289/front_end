(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54a83f08"],{cb44:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",[t._l(t.serverData,(function(e,s){return a("el-col",{key:s,staticClass:"card-box",attrs:{span:12}},[a("el-card",{staticStyle:{margin:"10px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[a("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[a("thead",[a("tr",[a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[t._v("属性")])]),t._v(" "),a("th",{staticClass:"is-leaf"},[a("div",{staticClass:"cell"},[t._v("值")])])])]),t._v(" "),a("tbody",t._l(e.list,(function(e,s){return a("tr",{key:s},[a("td",[a("div",{staticClass:"cell"},[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("div",{staticClass:"cell"},[t._v(t._s(e.value))])])])})),0)])])])],1)})),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{width:"100%",margin:"10px"}},[t.jumprateState?a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("CPU使用详情 从左到右 ")])]):t._e(),t._v(" "),a("div",{staticStyle:{height:"430px"}},[[a("div",{attrs:{id:"jumprate"}},t._l(t.cpuData,(function(t,e){return a("div",{key:e,style:{height:"200px",width:"20%",float:"left"},attrs:{id:"jumprate"+(e+1)}})})),0)]],2)])],2)],1)},n=[],i=(a("7f7f"),a("cc0b")),l=a("313e"),r=a.n(l),o={name:"Server",data:function(){return{loading:[],server:[],serverData:[],cpuData:[],jumprateState:!1}},created:function(){this.openLoading(),this.getList()},methods:{getList:function(){var t=this;Object(i["c"])().then((function(e){t.server=e,t.assemblyData(e.data),t.loading.close()}))},assemblyData:function(t){this.setServiceData(t),this.setRamData(t.RamUsed),this.setDiskData(t.Disk),this.cpuData=t.CpuUse.data,this.chart()},setServiceData:function(t){this.serverData[this.serverData.length]={title:"服务器环境",list:[{name:"操作系统",value:t.Os.go_os},{name:"CPU 数量",value:t.Os.cpu_num},{name:"系统架构",value:t.Os.go_arch}]},this.serverData[this.serverData.length]={title:"项目环境",list:[{name:"go version",value:t.Os.go_version},{name:"goroutine",value:t.Os.num_goroutine},{name:"项目地址",value:t.Os.get_current_path}]}},setRamData:function(t){this.serverData[this.serverData.length]={title:"内存",list:[{name:"总内存",value:t.total},{name:"已用内存",value:t.used},{name:"使用率",value:t.used_percent}]}},setDiskData:function(t){this.serverData[this.serverData.length]={title:"磁盘信息",list:[{name:"总内存",value:t.total},{name:"已用内存",value:t.used},{name:"使用率",value:t.used_percent}]}},chart:function(){this.$nextTick((function(){for(var t=0;t<this.cpuData.length;t++)this.getOption("jumprate"+(t+1),Math.ceil(this.cpuData[t]),"");this.jumprateState=!0}))},getOption:function(t,e,a){var s=r.a.init(document.getElementById(t)),n=100;a=""==a?e+"%":a+"\n"+e+"%",s.setOption({title:{text:a,x:"center",y:"center",textStyle:{fontWeight:"normal",color:"#4997BF",fontSize:"25"},data:["cpu"]},tooltip:{formatter:function(t){return t.name+"："+t.percent+" %"}},legend:{show:!1,itemGap:12,data:["使用率","剩余"]},series:[{name:"circle",type:"pie",clockWise:!0,radius:["50%","60%"],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}}},hoverAnimation:!1,data:[{value:e,name:"使用率",itemStyle:{normal:{color:{colorStops:[{offset:0,color:"#4FADFD"},{offset:1,color:"#28E8FA"}]},label:{show:!1},labelLine:{show:!1}}}},{name:"total",value:n-e,itemStyle:{normal:{color:"#E1E8EE"}}}]}]})},openLoading:function(){this.loading=this.$loading({lock:!0,text:"拼命读取中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}}},c=o,u=a("2877"),d=Object(u["a"])(c,s,n,!1,null,null,null);e["default"]=d.exports},cc0b:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return o}));var s=a("b775"),n=a("9a6f");function i(){return Object(s["a"])({url:"/api/blog/pub/system/configuration",method:"get"})}function l(t){return Object(s["a"])({url:n["a"].getTallyData,method:"get",params:t})}function r(t){return Object(s["a"])({url:n["a"].getAnalysisData,method:"get",params:t})}function o(t){return Object(s["a"])({url:n["a"].getMonitorData,method:"get",params:t})}}}]);