(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb37b6c2"],{"9bc6":function(t,e,n){"use strict";n.d(e,"h",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"b",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"c",(function(){return s})),n.d(e,"e",(function(){return d})),n.d(e,"a",(function(){return f}));var i=n("b775"),r=n("9a6f");function a(t){return Object(i["a"])({url:r["a"].blogLink,method:"post",data:t})}function u(){return Object(i["a"])({url:r["a"].blogLink,method:"get"})}function l(t){return Object(i["a"])({url:r["a"].blogLink,method:"put",data:t})}function o(t){return Object(i["a"])({url:r["a"].blogLink,method:"delete",params:t})}function c(t){return Object(i["a"])({url:r["a"].blogBanner,method:"post",data:t})}function s(){return Object(i["a"])({url:r["a"].blogBanner,method:"get"})}function d(t){return Object(i["a"])({url:r["a"].blogBanner,method:"put",data:t})}function f(t){return Object(i["a"])({url:r["a"].blogBanner,method:"delete",params:t})}},b42f:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticStyle:{margin:"10px",float:"right"},attrs:{type:"primary"},on:{click:function(e){return t.getLinks()}}},[t._v("刷新数据")]),t._v(" "),n("el-button",{staticStyle:{margin:"10px",float:"right"},attrs:{type:"primary"},on:{click:function(e){return t.saveData()}}},[t._v("新增数据")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,loading:t.listloading}},[n("el-table-column",{attrs:{label:"名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row,r=e.$index;return[t.currentEdit===r?n("el-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.finishEditClick(i)}},model:{value:i.title,callback:function(e){t.$set(i,"title",e)},expression:"row.title"}}):n("span",[t._v(t._s(i.title))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"uri",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row,r=e.$index;return[t.currentEdit===r?n("el-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.finishEditClick(i)}},model:{value:i.uri,callback:function(e){t.$set(i,"uri",e)},expression:"row.uri"}}):n("span",[t._v(t._s(i.uri))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"是否显示",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:function(n){return t.handleStatusChange(e.row)}},model:{value:e.row.is_show,callback:function(n){t.$set(e.row,"is_show",n)},expression:"scope.row.is_show"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.currentEdit===e.$index?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.finishEditClick(e.row)}}},[t._v("完成")]):n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.editClick(e)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleDelClick(e.row,e.$index)}}},[t._v("删除")])]}}])})],1)],1)},r=[],a=(n("ac6a"),n("9bc6")),u={data:function(){return{listloading:!1,currentEdit:-1,tableData:[]}},created:function(){this.listloading=!0,this.getLinks()},methods:{getLinks:function(){var t=this,e=[];Object(a["d"])().then((function(n){n.data.forEach((function(t,n){e[n]={title:t.title,uri:t.uri,id:t.id,is_show:1==t.is_show?"1":"0"}})),t.tableData=e,console.log("this.tableData ",t.tableData,e)}))},handleDelClick:function(t,e){var n=this;if(""==t.id)return this.currentEdit=-1,void this.tableData.splice(e,1);this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a["b"])({id:t.id}).then((function(t){n.responseMessage(t),n.getLinks()}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))},editClick:function(t){-1==this.currentEdit?this.currentEdit=t.$index:this.msgError("存在未关闭的编辑框")},finishEditClick:function(t){var e=this;if(""!=t.uri&&""!=t.title&&""!=t.is_show){var n="";n=""!=t.id?Object(a["f"])(t):Object(a["h"])(t),n.then((function(t){e.responseMessage(t)})),this.currentEdit=-1}else this.msgError("请填写完整数据")},saveData:function(){if(-1==this.currentEdit){var t={id:"",title:"",uri:"",is_show:1};this.currentEdit=this.tableData.length,this.tableData.push(t)}else this.msgError("存在未关闭的编辑框")},handleStatusChange:function(t){var e=this;console.log("row",t),Object(a["f"])(t).then((function(t){e.responseMessage(t)}))}}},l=u,o=n("2877"),c=Object(o["a"])(l,i,r,!1,null,null,null);e["default"]=c.exports}}]);